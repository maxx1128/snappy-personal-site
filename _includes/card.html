{% assign title = include.title %}
{% assign excerpt = include.excerpt %}
{% assign image = include.image %}
{% assign image_subpath = include.image_subpath | default: "featured" %}
{% assign external = include.external %}
{% assign url = include.url %}
{% assign link = include.link %}
{% assign tags = include.tags %}
{% assign background_image = "background-image: url('/assets/images/" | append: image_subpath | append: "/" | append: image | append: "');" %}

<article class="card box-shadow-2 {% if image %}bg-blue-light{% else %}bg-topography--light{% endif %}" {% if image %}style="{{ background_image }}"{% endif %}>
  <div class="card__body px-4 py-px">
    <h3 class="card__header mt-4">
      {% if external %}
        <a href="{{ link }}" target="_blank" rel="noopener">
      {% else %}
        <a href="{{ url }}">
      {% endif %}
        {{ title }}
      </a>
    </h3>

    {% if image %}
      <div class="card__banner" style="{{ background_image }}"></div>
    {% endif %}

    {% if excerpt %}
      <p class="card__excerpt mt-auto">
        {{ excerpt }}
      </p>
    {% endif %}
  </div>

  {% if tags %}
    {% include tags.html
      tags=tags
      wrapper_classes='card__tags p-2 bg-blue-dark flex-justify-end'
      tag_classes='mb-0 bg-mono-white'
      link_classes='text-xtiny'
    %}
  {% endif %}
</article>
